# 전송계층 
## 흐름제어(Flow Control)
- 파이프라이닝 기반의 Go-Back-N, Selective-Repeat가 제대로 동작하려면 반드시 흐름제어를 고려해야 한다. 
- 수신 호스트가 한번에 n개의 바이트를 받아서 처리한다면 송신 측에서도 이점을 인지하여 n개의 바이트를 넘지 않는 선에서 송신해야 한다. 만약 이 양보다 많은 약을 전송하게 되면 일부 세그먼트가 처리되지 못 한다. 
- 수신 버퍼는 수신된 세그먼트가 애플리케이션 프로세스에 읽히기 전에 임시로 저장되는 공간이며 버퍼가 넘치는 상황을 버퍼 오버플로 라고 한다. 
- TCP 흐름제어란 위의 문제 상황을 방지하고자 송신 호스트가 수신 호스트의 처리 속도를 고려하여 송수신 속도를 균일하게 유지하는 것을 의미한다. 

### 슬라이딩 윈도우 
- 오늘날 TCP에서는 흐름제어로 슬라이딩 윈도우를 사용한다.  
- 윈도우란 송신 호스트가 파이프라이닝 할 수 있는 최대량을 의미한다. 
- 윈도우 크기만큼 응답받지 않고 한번에 전송 가능하다는 의미이다.
- 윈도우에 1~4까지의 세그먼트를 전송했고 수신 호스트로 부터 첫번째 세그먼트에 대한 ACK 세그먼트를 받았다고 가정하면 윈도우는 왼쪽으로 한 칸 이동 한다. 
- 송신 호스트만 윈도우를 고려하는 것은 아니다. 수신 호스트도 윈도우를 고려한다. TCP 세그먼트 구조에서 TCP 세그먼트 내에 윈도우라는 필드가 있는데 이 필드에는 윈도우의 크기가 명시되어 있다. 
- 파이프라이닝 과정에서 송수신 윈도우는 점차 오른쪽으로 미끄러지듯 움직이게 되는데 이러한 TCP의 흐름 제어를 Sliding window라고 한다. 

--- 
> 강민철, 『혼자 공부하는 네트워크』, 한빛미디어 (2018)    

