# 물리 계층과 데이터 링크 계층 

## 이더넷(Ethernet) 
- 믈리 계층과 데이터 링크 계층은 이더넷이라는 공통 기술을 사용한다. 
- 이더넷은 현대 LAN 특히 유선 LAN 환경에서 가장 대중적으로 사용되는 기술이다. 
- 물리적으로 두 대의 컴퓨터가 있을 때 정보를 주고 받기 위해 케이블과 같은 통신 매체가 필요하며 그 통신 매체를 통해 정보를 송수신하는 방법이 정해져 있다. 
- 이더넷은 다양한 통신 매체의 규격과 송수신되는 프레임의 형태, 주고 받는 방법이 정의된 네트워크 기술이다. 

### 이더넷 표준
- 오늘날 대부분의 유선 LAN은 이더넷을 기반으로 구성된다. 
- 이더넷은 국제적으로 표준화가 이루어져 있는데 IEEE에서 이더넷 관련 기술을 IEEE802.3 이라는 이름으로 표준화 했다. 
  
### 통신 매체 표기 형태 
#### 전송 속도 
- 숫자만 표기되어 있으면 Mbps 숫자뒤에 G가 붙어 있으면 Gbps 를 의미한다. 
- 10GBASE-T 10BASE-T 

#### BASE 
- BASE는 베이스 밴드의 약자로 변조 타입을 의미한다. 
- 비트 신호를 변환된 데이터를 통신 매체로 전송하는 방법을 의미한다. 
  
#### 추가 특성 
- 통신 매체의 특성을 명시한다.
- 전송 가능한 최대 거리, 물리 계층의 인코딩, 전솔로 수를 의미하는 레인 수등이 명시된다. 
  
### 통신 매체 종류 

| 약어 | 의미                      | 설명                                                                 |
|------|---------------------------|----------------------------------------------------------------------|
| C    | 동축 케이블 | 중심 도체와 차폐체로 구성되어 외부 간섭에 강함. 케이블 TV, 옛날 LAN 등에 사용. |
| T    | 트위스트 페어 케이블 | 두 가닥의 구리선을 꼬아 만든 케이블. UTP, STP 등이 있으며 이더넷에 주로 사용. |
| S    | 단파장 광섬유 케이블 | 외부 전자기 간섭(EMI)을 막기 위해 도체 주위를 차폐층으로 감싼 케이블.         |
| L    | 장파장 광섬유 케이블 | 빛을 이용해 데이터를 전송하는 케이블. 대역폭이 크고 장거리 전송에 적합.       |

### 이더넷 프레임 
- 이더넷 프레임은 상위 계층으로 부터 받아들인 정보에 헤더와 트레일러를 추가하는 캠슐화 고장을 통해서 만들어진다. 
- 수신지 입장에서는 헤더와 프레임을 제거한뒤 상위 계층으로 올려보내는 역캡슐화 과정을 거친다. 

- 이더넷 헤더 
  - 프리엠블, 수신지 MAC 주소, 발신지 MAC 주소 타입, 길이 
- 페이로드 
- 이더넷 트레일러 
  - FCS 

#### 프리엠블 
- 이더넷 프레임으 시작을 알리는 8바이트 (64비트)
- 프리임블 첫 7바이트는 10101010 값을 가지고 마지막 바이트는 10101011값을 가진다. 

#### 송신지 수신지 MAC 주소 
- MAC 주소는 데이터 링크 계층의 핵심이다. 
- MAC 주소는 네트워크 인터페이스 마다 부여되는 6바이트의 길이 주소이다.
- MAC 주소는 고유하고 변경되지 않는 주소로 네트워크 인터페이스 마다 부여된다. 
- NIC(Network Interface Controller) 라는 장치가 네트워크 인터페이스 역할을 담당한다. 

#### 타입 길이 
- 타입/길이 필드에는 타입 혹은 길이가 올 수 있는데 명시된 크기가 1500 이하일 경우 길이를 이상이면 타입을 나타내는데 사용한다. 
- 타입이란 어떤 정보를 캡슐화했는가를 나타내는 정보로 이더타입이라고도 한다. 
- 상위 계층에서 사용된 프롵토콜의 이름이 명시된다. 

| 16진수 값 (Hex) | 10진수 값 (Dec) | 프로토콜 | 설명                                  |
|----------------|------------------|----------|---------------------------------------|
| 0x0800         | 2048             | IPv4     | 인터넷 프로토콜 버전 4                |
| 0x86DD         | 34525            | IPv6     | 인터넷 프로토콜 버전 6                |
| 0x0806         | 2054             | ARP      | 주소 결정 프로토콜 (Address Resolution Protocol) |
  
#### 데이터 
- 데이터는 상위 계층에서 전달받거나 전달해야할 내용이다. 
- 네트워크 계층의 헤더와 데이터를 합친 PDU가 이곳에 포함된다. 
- 일정크기 이상이어야 하는데 그 이하의 데이터면 패딩을 이용해서 정보가 내부에 채워진다. 

#### FCS (Frame Check Sequence)
- 수신한 이더넷 프레임에 오류가 있는지 확인 하기 위한 필드이다. 
- CRC라는 순환 중복 검사를 위한 오류 검출용 값이 들어간다. 
- 송신지에서는 프리엠블을 제외한 나머지 필드 값을 바탕으로 CRC 값 계산 후 FCS 명시한다. 
- 수신지에서는 프리엠블과 FCS를 제외한 나머지 값들을 바탕은 CRC 계산 후 일치하지 않으면 프레임에 오류가 있다고 판단 후 폐기한다. 
--- 
> 강민철, 『혼자 공부하는 네트워크』, 한빛미디어 (2018)    


