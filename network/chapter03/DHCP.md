# 네트워크 계층

## DHCP
- DHCP는 응용계층에 속하지만 네트워크 계층을 이해하는데 도움이 된다. 
- DHCP를 통한 IP 주소 할당은 IP 주소를 할당받고자 하는 호스트와 해당 호스트에게 IP 주소를 제공하는 DHCP 서버간에 메시지를 주고 받음으로써 이루어진다. 
- DHCP서버 역할은 일반적으로 라우터(공유기)가 하지만 특정 호스트에 DHCP 서버 기능을 추가할 수도 있다. 
- DHCP로 할당 받은 IP주소는 사용할 기간(임대 기간)이 정해져 있다. 
- IP 주소를 할당받는 과정에서 클라이언트와 DHCP 서버 간에 주고 받는 메시지의 종류는 크게 4가지 이다. 
  
### DHCP Discover 
- 클라이언트는 DHCP Discover 메시지를 통해서 DHCP 서버를 찾으며 이는 브로드캐스트로 전송된다. 
- DHCP Discover 메시지를 전송하는 시점에 클라이언트는 아직 IP 주소를 할당받지 못했으므로 0.0.0.0으로 설정된다. 

### DHCP Offer 
- DHCP 서버는 DHCP Discover 메시지를 받은 뒤에 클라이언트에게 DHCP Offer 메시지를 보낸다. 

### DHCP Request 
- DHCP Request는 DHCP Offer 메시지에 대한 응답이며 이또한 브로드캐스트로 전송된다. 

### DHCP Acknowledgement  
- 마지막으로 DHCP 서버는 클라이언트에세 DHCP ACK 메시지를 보낸다. 
- IP 주소의 사용기간이 모두 끝난 IP주소가 DHCP 서버에 반납되면 원칙적으로 이 과정을 거쳐서 재할당 받지만 IP주소 임대 기간이 끝나기 전에 임대 기간을 갱신할 수 있는데 이를 임대 갱신이라고 한다. 

--- 
> 강민철, 『혼자 공부하는 네트워크』, 한빛미디어 (2018)    
